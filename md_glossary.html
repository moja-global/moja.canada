<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GCBM: Glossary</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GCBM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Glossary </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md1"></a>
Terms/functions etc that are commonly used across various classes will be documented here</h2>
<p>_landUnitData : Used to get reference to pools, state variables associated with a module and create and submit carbon transfers (createStockOperation/createProportionalOperation/submitOperation)</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Events</h2>
<p>The FLINT framework uses publish/subscribe messaging to control the lifecycle of a simulation. Module code can subscribe to these events to perform work at different stages. See CBMSequencer and CBMSpinupSequencer (notificationCenter.postNotification) for when these events are fired in a GCBM simulation, as well as moja::flint::SpatialTiledLocalDomainController for the framework-level events like onSystemInit.</p>
<p>There are various events defined in the file <a href="https://github.com/moja-global/moja.canada/blob/develop/Source/moja.modules.cbm/include/moja/modules/cbm/cbmmodulebase.h">cbmmodulebase.h</a></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Event </th><th class="markdownTableHeadCenter">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onSystemInit</code> </td><td class="markdownTableBodyCenter">Fired once when the framework starts up. At this point, modules have access to member variables initialized in the configuration step (flint::IModule::configure), but not pools or data variables  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>onSystemShutDown</code> </td><td class="markdownTableBodyCenter">Fired once when the framework shuts down  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onLocalDomainInit</code> </td><td class="markdownTableBodyCenter">Event is fired once per thread at the start of the simulation - modules typically subscribe to this event in order to store references to pools and variables. Non-spatial variable data is also available at this stage, i.e. variables with fixed values in the JSON configuration files  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>onLocalDomainShutDown</code> </td><td class="markdownTableBodyCenter">Fired once per thread when the simulation has ended  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onTimingInit</code> </td><td class="markdownTableBodyCenter">Fired once for each pixel just before simulation for that pixel begins. This event is typically used to initialize the starting state for the pixel  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>onTimingStep</code> </td><td class="markdownTableBodyCenter">Invoked every timestep for a pixel’s simulation. Simulation is performed for the whole range of timesteps for a single land unit (pixel) before the framework moves on to the next land unit  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onOutputStep</code> </td><td class="markdownTableBodyCenter">Fired at the end of each timestep for a land unit (pixel), typically for output modules to subscribe to  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>onPreTimingSequence</code> </td><td class="markdownTableBodyCenter">This event runs just before onTimingInit, for modules that need to do some work before that event  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onTimingPrePostInit</code> </td><td class="markdownTableBodyCenter">This event is fired by some of the other FLINT framework sequencers (i.e. CalendarSequencer) just after TimingInit, but is unused in GCBM; it is overridden in CBMModuleBase just for completeness  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>onTimingPostInit</code> </td><td class="markdownTableBodyCenter">Fired just after TimingInit, before simulation begins for a pixel  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onTimingPreEndStep</code> </td><td class="markdownTableBodyCenter">Just before the end of the current timing step  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>onTimingEndStep</code> </td><td class="markdownTableBodyCenter">When the current time step ends  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onTimingPostStep</code> </td><td class="markdownTableBodyCenter">Fired after the current timing step ends  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>onPrePostDisturbanceEvent</code> </td><td class="markdownTableBodyCenter">Fired just before disturbance events in other non-GCBM FLINT framework sequencers. GCBM only uses this event in some of the peatland modules, which manually fire it before peatland-specific disturbance events  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onDisturbanceEvent</code> </td><td class="markdownTableBodyCenter">Fired when a disturbance event occurs along with an optional “payload” argument. In the GCBM, the payload contains the disturbance type and the disturbance matrix, which defines all the carbon pool transfers resulting from the disturbance. Other modules have a chance to modify the disturbance matrix before the carbon pool transfers are processed; for example, the peatland modules watch for fire disturbances and add peatland carbon pool transfers to the fire matrix, which doesn’t normally include them  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>onError</code> </td><td class="markdownTableBodyCenter">Fired on the occurrence of an error  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>onPostNotification</code> </td><td class="markdownTableBodyCenter">Not used  </td></tr>
</table>
<p><a class="el" href="README_8md.html">Back to Home</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
